based on github.com/Rican7/retry but with context and support cancellation